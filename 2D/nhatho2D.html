<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>ArcGIS JavaScript Tutorials: Create a Starter App</title>
	<style>
		html,
		body,
		#viewDiv {
			padding: 0;
			margin: 0;
			height: 100%;
			width: 100%;
		}
	</style>

	<link rel="stylesheet" href="https://js.arcgis.com/4.26/esri/themes/light/main.css">
	<script src="https://js.arcgis.com/4.26/"></script>

	<script>
		// Popup template cho các loại đối tượng khác nhau
		

		var point_template_area3 = {
			title: "{Name}",
			content: "Khu vực này ở trong Nhà Thờ Đức Bà - <b>{Location}</b>."
		};

		// Dữ liệu geojson dạng json bao gồm các điểm, đường và vùng đa giác
		var jsondata = {
			
			"polygons": [
				{
					type: "polygon",
					rings: [
						[106.69872366413638, 10.780100859897377],
						[106.69877122332247, 10.7800553776566],
						[106.69872105914595, 10.780003357018908],
						[106.69867281275896, 10.780047842673127],
						[106.69867119405149, 10.780079591305507],
						[106.69869100213037, 10.780102157702396],
						[106.69872366413638, 10.780100859897377]

					],
					Name: "1",
					Location: "Vinhomes Grand Park, Q.Thủ Đức, Tp.Hồ Chí Minh",
					symbol: {
						type: "simple-fill",
						color: [79, 192, 195, 0.4],
						outline: {
							color: [255, 255, 255],
							width: 1
						}
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69870018326667, 10.780022003251801],
							[106.6986735895331, 10.779994162077777],
							[106.69866789988376, 10.77995540766101],
							[106.69869589713481, 10.779929777766267],
							[106.69869045848394, 10.779894204923524],
							[106.69872885525231, 10.779859922023306],
							[106.69875067466883, 10.779883832614484],
							[106.69871833681931, 10.779937747072573],
							[106.69872105914595, 10.780003357018908],
							[106.69870018326667, 10.780022003251801]

						]
					],
					Name: "2",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [255, 205, 201, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69875219457827, 10.780074198178608],
							[106.6987843883666, 10.780110401163686],
							[106.69881311972483, 10.780112090411517],
							[106.69884252272664, 10.780086350504034],
							[106.69887785824484, 10.780100023210242],
							[106.6989090623571, 10.780087264575107],
							[106.69892415658515, 10.780067979195818],
							[106.69889846788017, 10.780040856926464],
							[106.69883930201964, 10.780064819282734],
							[106.69877122332247, 10.7800553776566],
							[106.69875219457827, 10.780074198178608]

						]
					],
					Name: "3",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [174, 222, 252, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69901355815054, 10.779985157657432],
							[106.698985186614, 10.77995616965428],

							[106.69892960480028, 10.780010763490782],
							[106.69895499606547, 10.78004027013499],
							[106.69901355815054, 10.779985157657432]

						]
					],
					Name: "4",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [51, 102, 255, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69883693388367, 10.779800461861782],
							[106.69881567796568, 10.779776582306697],
							[106.69875995229748, 10.779831163108497],
							[106.69878131512785, 10.779854875129162],
							[106.69883693388367, 10.779800461861782]

						]
					],
					Name: "5",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [227, 139, 79, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69913537235271, 10.77993298050285],
							[106.69936902041661, 10.779716338699927],
							[106.69928465160855, 10.779626648508357],
							[106.69905125052892, 10.779845112636306],
							[106.69913537235271, 10.77993298050285]


						]
					],
					Name: "6",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [235, 212, 29, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69895854915494, 10.779746189039528],
							[106.69919609303442, 10.779531508957582],
							[106.69909380410886, 10.77942665107818],
							[106.69885904635363, 10.779644747265682],
							[106.69895854915494, 10.779746189039528]


						]
					],
					Name: "7",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [206, 126, 90, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69916157726306, 10.779496212461622],
							[106.69921470045442, 10.779447933059485],
							[106.69926507115265, 10.779502468862951],
							[106.69921295933787, 10.779550956294697],
							[106.69916157726306, 10.779496212461622]

						]
					],
					Name: "8",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [0, 202, 255, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [[
						[106.6993187282009, 10.779557838558288],
						[106.69926525765258, 10.779606983702013],
						[106.69931644751833, 10.779661465851708],
						[106.69936888967347, 10.779612344373016],
						[106.6993187282009, 10.779557838558288]

					]],
					Name: "9",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [76, 175, 80, 0.6], // Màu xanh sân tennis
						outline: { color: [255, 255, 255], width: 1 },
						popupTemplate: point_template_area3
					}
				},
				{
					type: "polygon",
					rings: [[
						[106.6993187282009, 10.779557838558288],
						[106.69926525765258, 10.779606983702013],
						[106.69921295933787, 10.779550956294697],

						[106.69926507115265, 10.779502468862951],

						[106.6993187282009, 10.779557838558288]

					]],
					Name: "11",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [38, 204, 194, 0.5], // Màu nước trong suốt
						outline: { color: [255, 255, 255], width: 1 },
						popupTemplate: point_template_area3
					}
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69896007238155, 10.77992750545643],
							[106.69887554285012, 10.780004496437101],
							[106.69883356881431, 10.780024224068484],
							[106.69879218348153, 10.780018891517631],
							[106.6987610113994, 10.779984724857881],
							[106.69875898330045, 10.779945003062496],
							[106.69878262378664, 10.779909108905882],
							[106.69886550089649, 10.779830142558687],
							[106.69883693388367, 10.779800461861782],
							[106.69881567796568, 10.779776582306697],
							[106.69890660900884, 10.77969183039137],
							[106.69895854915494, 10.779746189039528],
							[106.69919609303442, 10.779531508957582],
							[106.69928465160855, 10.779626648508357],
							[106.69905125052892, 10.779845112636306],
							[106.69910463623006, 10.779901075390603],
							[106.69901355815054, 10.779985157657432],
							[106.698985186614, 10.77995616965428],
							[106.69896007238155, 10.77992750545643]


						]
					],
					Name: "10",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [255, 212, 29, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				},
				{
					type: "polygon",
					rings: [
						[
							[106.69896007238155, 10.77992750545643],
							[106.69887554285012, 10.780004496437101],
							[106.69883356881431, 10.780024224068484],
							[106.69879218348153, 10.780018891517631],
							[106.6987610113994, 10.779984724857881],
							[106.69875898330045, 10.779945003062496],
							[106.69878262378664, 10.779909108905882],
							[106.69886550089649, 10.779830142558687],
							[106.69883693388367, 10.779800461861782],
							[106.69878131512785, 10.779854875129162],
							[106.69875995229748, 10.779831163108497],
							[106.69872885525231, 10.779859922023306],
							[106.69875067466883, 10.779883832614484],
							[106.69871833681931, 10.779937747072573],
							[106.69872105914595, 10.780003357018908],
							[106.69877122332247, 10.7800553776566],
							[106.69883930201964, 10.780064819282734],
							[106.69889846788017, 10.780040856926464],
							[106.69892415658515, 10.780067979195818],
							[106.69895499606547, 10.78004027013499],
							[106.69892960480028, 10.780010763490782],
							[106.698985186614, 10.77995616965428],
							[106.69896007238155, 10.77992750545643]


						]
					],
					Name: "12",
					Location: "Nha Tho Duc Ba",
					symbol: {
						type: "simple-fill",
						color: [230, 21, 29, 0.4],
						outline: { color: [255, 255, 255], width: 1 }
					},
					popupTemplate: point_template_area3
				}
			]
		};
		require([
			"esri/Map",
			"esri/views/MapView",
			"esri/Graphic",
			"esri/layers/GraphicsLayer"
		], function (Map, MapView, Graphic, GraphicsLayer) {

			var map = new Map({
				basemap: "topo-vector"
			});
			map.on("load", function () {
				map.graphics.enableMouseEvents();
			});

			var view = new MapView({
				container: "viewDiv",
				map: map,
				center: [106.6990, 10.7798],
				zoom: 16,
				highlightOptions: {
					color: "blue"
				}

			});

			// Tạo graphic từ json data
			var createGraphic = function (data) {
				return new Graphic({
					geometry: data,
					symbol: data.symbol,
					attributes: data,
					popupTemplate: data.popupTemplate
				});
			};

			// Thêm các đối tượng từ jsondata vào graphics layer và hiển thị lên bản đồ
			var graphicsLayer = new GraphicsLayer();
			
			jsondata.polygons.forEach(function (data) {
				graphicsLayer.add(createGraphic(data));
			});
			map.add(graphicsLayer);


		});
	</script>
</head>

<body>
	<div id="viewDiv"></div>
</body>

</html>